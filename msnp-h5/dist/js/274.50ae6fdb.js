"use strict";(self["webpackChunkmsnp_h5"]=self["webpackChunkmsnp_h5"]||[]).push([[274],{162:(e,l,a)=>{a.d(l,{A:()=>g});var t=a(9258),n=a(908),u=a(388),o=a(8676),r=a(8653),i=(a(2675),a(9463),a(8706),a(2008),a(113),a(1629),a(2062),a(3288),a(2010),a(8111),a(2489),a(116),a(7588),a(1701),a(6033),a(6099),a(8940),a(7764),a(8156),a(3500),a(2953),a(6031),a(6768)),d=a(144),c=a(715),s=a(3141),p={class:"activity-basic-form"},v={key:0,class:"section-header"},m={class:"section-body"},b={class:"form-section"};const h={__name:"ActivityBasicForm",props:{formData:{type:Object,required:!0},editable:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},showExtendedFields:{type:Boolean,default:!0},locationConfig:{type:Object,default:function(){return{type:"select",placeholder:"请选择",disabled:!1}}}},emits:["update:formData","form-change"],setup:function(e,l){var a=l.expose,h=l.emit,f=(0,d.KR)(null),A=e,g=h,C=(0,d.KR)((0,r.A)({},A.formData)),y=(0,d.KR)(!1),w=(0,d.KR)([]),V=(0,d.KR)([]),k=(0,d.KR)(!1),x=(0,d.KR)([]),E=(0,d.KR)(!1),F=(0,d.KR)(!1),R=(0,d.KR)([]),U=(0,d.KR)([]),N=(0,d.KR)([0,0]),S=(0,d.KR)([0,0]),q=(0,d.KR)(!1),T=(0,d.KR)(!1),B=(0,d.KR)(!1),O=(0,d.KR)([{text:"超体场景",value:"1"},{text:"服务行销",value:"2"}]),L=(0,d.KR)([{text:"否",value:"0"},{text:"是",value:"1"}]),I=(0,d.KR)([]),K={activeVenueNameArr1:["HEALTH_HOSP","WEALTH_CENTER","COMMUNITY","BYBO"],activeVenueNameArr2:["WEALTH_CENTER","COMMUNITY","BYBO"],activeVenueNameArr3:["WORK_PLACE","HOTEL","OTHER"]},_=(0,d.KR)([]),D=(0,d.KR)([]),Q=(0,d.KR)([]),W=(0,d.KR)([]);(0,i.sV)(function(){if(C.value.branchCode&&pe(C.value.branchCode),C.value.startTime){var e=Fe(C.value.startTime),l=e.t;N.value=l}if(C.value.endTime){var a=Fe(C.value.endTime),t=a.t;S.value=t}re()});var X=(0,i.EW)(function(){return A.locationConfig.type||"select"}),Y=(0,i.EW)(function(){return A.editable?A.locationConfig.placeholder||"请选择":C.value.location}),P=(0,i.EW)(function(){return!A.editable||A.locationConfig.disabled}),j=(0,d.KR)(!1);(0,i.wB)(function(){return A.formData},function(e){j.value=!0,C.value=(0,r.A)({},e),(0,i.dY)(function(){j.value=!1})},{deep:!0}),(0,i.wB)(C,function(e){j.value||(g("update:formData",e),g("form-change",e))},{deep:!0}),(0,i.wB)(function(){return A.editable},function(e){e&&(C.value=(0,r.A)({},A.formData))}),(0,i.wB)(function(){return C.value.branchCode},function(e,l){l&&!e&&ve()}),(0,i.wB)([function(){return C.value.category},function(){return C.value.healthRelate}],function(e,l){var a=(0,o.A)(e,2),t=a[0],n=a[1],u=(0,o.A)(l,2),r=u[0],i=u[1];t===r&&n===i||(C.value.venue="",I.value=[])});var H=function(){C.value=(0,r.A)({},A.formData)},M=function(){return C.value},G=function(){A.editable&&((0,c.D0)({message:"加载分公司数据...",forbidClick:!0}),se().then(function(){(0,c.cQ)(),y.value=!0})["catch"](function(e){(0,c.cQ)(),(0,c.xr)("加载失败，请重试"),console.error("Failed to load branch data:",e)}))},$=function(){A.editable&&(k.value=!0)},z=function(){A.editable&&(q.value=!0)},J=function(e){var l=e.selectedOptions,a=l[0];a&&a.text&&(C.value.branchCode=a.value,ve(),pe(a.value)),y.value=!1},Z=function(){y.value=!1},ee=function(e){var l=e.selectedOptions,a=l[0];a&&a.text&&(C.value.subbranchCode=a.value),k.value=!1},le=function(){k.value=!1},ae=function(e){var l=e.selectedOptions,a=l[0];a&&a.text&&(C.value.category=a.value),q.value=!1},te=function(){q.value=!1},ne=function(e){var l=e.selectedOptions,a=l[0];a&&a.text&&(C.value.healthRelate=a.value),T.value=!1},ue=function(){T.value=!1},oe=function(){A.editable&&ie()},re=function(){var e=(0,u.A)((0,n.A)().m(function e(){var l,a,t,u,o;return(0,n.A)().w(function(e){while(1)switch(e.p=e.n){case 0:return e.p=0,e.n=1,new Promise(function(e){return setTimeout(e,300)});case 1:l=[{dictName:"健保通医院",dictCd:"HEALTH_HOSP"},{dictName:"健财中心",dictCd:"WEALTH_CENTER"},{dictName:"养老社区",dictCd:"COMMUNITY"},{dictName:"拜博",dictCd:"BYBO"},{dictName:"职场",dictCd:"WORK_PLACE"},{dictName:"酒店",dictCd:"HOTEL"},{dictName:"其他",dictCd:"OTHER"}],a=200,t=l,200===a&&t&&(_.value=t.map(function(e){return{text:e.dictName,value:e.dictCd}}),u=new Map,_.value.forEach(function(e){return u.set(e.value,e)}),D.value=K.activeVenueNameArr1.map(function(e){var l=u.get(e);return l||null}).filter(Boolean),Q.value=K.activeVenueNameArr2.map(function(e){var l=u.get(e);return l||null}).filter(Boolean),W.value=K.activeVenueNameArr3.map(function(e){var l=u.get(e);return l||null}).filter(Boolean)),e.n=3;break;case 2:e.p=2,o=e.v,console.error("Failed to query active venue:",o),(0,c.xr)("获取活动场地列表失败");case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=(0,u.A)((0,n.A)().m(function e(){var l,a,u;return(0,n.A)().w(function(e){while(1)switch(e.p=e.n){case 0:if(e.p=0,(0,c.D0)({message:"加载活动场地选项...",forbidClick:!0}),l=C.value.category,a=C.value.healthRelate,0!==_.value.length){e.n=1;break}return e.n=1,re();case 1:I.value="1"===l?"1"===a?(0,t.A)(D.value):"0"===a?(0,t.A)(Q.value):[]:"2"===l?(0,t.A)(W.value):[],(0,c.cQ)(),B.value=!0,e.n=3;break;case 2:e.p=2,u=e.v,(0,c.cQ)(),(0,c.xr)("加载活动场地选项失败"),console.error("Failed to load venue options:",u);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),de=function(e){var l=e.selectedOptions,a=l[0];a&&a.text&&(C.value.venue=a.value),B.value=!1},ce=function(){B.value=!1},se=function(){var e=(0,u.A)((0,n.A)().m(function e(){return(0,n.A)().w(function(e){while(1)switch(e.n){case 0:return e.a(2,new Promise(function(e){setTimeout(function(){V.value=[{branchCode:"1",branchName:"北京分公司",id:"01",itemList:[{id:"0101",subbranchCode:"10",subbranchName:"北京本部"}]},{branchCode:"2",branchName:"湖北分公司",id:"02",itemList:[{id:"0201",subbranchCode:"10",subbranchName:"武汉本部"},{id:"0211",subbranchCode:"20",subbranchName:"宜昌中心支公司"},{id:"0212",subbranchCode:"30",subbranchName:"襄阳中心支公司"},{id:"0213",subbranchCode:"50",subbranchName:"十堰中心支公司"},{id:"0214",subbranchCode:"60",subbranchName:"黄石中心支公司"},{id:"0215",subbranchCode:"40",subbranchName:"荆州中心支公司"},{id:"0216",subbranchCode:"70",subbranchName:"荆门中心支公司"},{id:"0217",subbranchCode:"A0",subbranchName:"黄冈中心支公司"},{id:"0218",subbranchCode:"80",subbranchName:"孝感中心支公司"},{id:"0219",subbranchCode:"90",subbranchName:"咸宁中心支公司"},{id:"0220",subbranchCode:"D0",subbranchName:"恩施中心支公司"},{id:"0221",subbranchCode:"C0",subbranchName:"鄂州中心支公司"},{id:"0222",subbranchCode:"G0",subbranchName:"天门中心支公司"},{id:"0223",subbranchCode:"F0",subbranchName:"仙桃中心支公司"},{id:"0224",subbranchCode:"B0",subbranchName:"随州中心支公司"},{id:"0225",subbranchCode:"K0",subbranchName:"武汉本部业务管理二部"},{id:"0226",subbranchCode:"J0",subbranchName:"武汉本部业务管理三部"},{id:"0227",subbranchCode:"E0",subbranchName:"潜江中心支公司"}]}],w.value=V.value.map(function(e){return{text:e.branchName,value:e.id}}),e()},300)}))}},e)}));return function(){return e.apply(this,arguments)}}(),pe=function(e){var l=V.value.find(function(l){return l.id===e});l&&l.itemList?x.value=l.itemList.map(function(e){return{text:e.subbranchName,value:e.id}}):x.value=[]},ve=function(){C.value.subbranchCode="",x.value=[]},me=function(){A.editable&&console.log("Show strategy picker")},be=function(){A.editable&&console.log("Show channel picker")},he=function(){A.editable&&(E.value=!0)},fe=function(){A.editable&&(F.value=!0)},Ae=function(){A.editable&&(T.value=!0)},ge=function(){A.editable&&console.log("Show location picker")},Ce=function(){A.editable&&console.log("Show content picker")},ye=function(){A.editable&&console.log("Show method picker")},we=function(){A.editable&&console.log("Show QR code picker")},Ve=function(){A.editable&&console.log("Show public release picker")},ke=function(){A.editable&&console.log("Show traditional medicine picker")},xe=function(e){return String(e).padStart(2,"0")},Ee=function(){var e=new Date;return"".concat(e.getFullYear(),"-").concat(xe(e.getMonth()+1),"-").concat(xe(e.getDate()))},Fe=function(e){var l=(e||"").split(" "),a=(0,o.A)(l,2),t=a[0],n=a[1],u=(t||Ee()).split("-"),r=(0,o.A)(u,3),i=r[0],d=r[1],c=r[2],s=(n||"00:00").split(":"),p=(0,o.A)(s,2),v=p[0],m=p[1];return{d:[parseInt(i,10),parseInt(d,10),parseInt(c,10)],t:[parseInt(v,10),parseInt(m,10)]}},Re=function(e,l){var a=parseInt(e[0],10),t=parseInt(e[1],10)-1,n=parseInt(e[2],10),u=parseInt(l[0],10),o=parseInt(l[1],10);return new Date(a,t,n,u,o,0,0)},Ue=function(e){var l=e||"",a=C.value.startTime||"";if(!l||!a)return!0;var t=Fe(a),n=t.d,u=t.t,o=Fe(l),r=o.d,i=o.t,d=Re(n,u),c=Re(r,i);return c.getTime()>d.getTime()||"结束时间需晚于开始时间"},Ne=function(e){var l=e||"",a=C.value.endTime||"";if(!l||!a)return!0;var t=Fe(l),n=t.d,u=t.t,o=Fe(a),r=o.d,i=o.t,d=Re(n,u),c=Re(r,i);return d.getTime()<c.getTime()||"开始时间需早于结束时间"},Se=function(){var e=(0,u.A)((0,n.A)().m(function e(){var l,a,t,u,o;return(0,n.A)().w(function(e){while(1)switch(e.p=e.n){case 0:return a="".concat(R.value[0],"-").concat(xe(R.value[1]),"-").concat(xe(R.value[2])),t=xe(N.value[0]),u=xe(N.value[1]),o="".concat(a," ").concat(t,":").concat(u),C.value.startTime=o,e.n=1,(0,i.dY)();case 1:if(null===(l=f.value)||void 0===l||!l.validate||!C.value.endTime){e.n=5;break}return e.p=2,e.n=3,f.value.validate("endTime");case 3:e.n=5;break;case 4:e.p=4,e.v;case 5:E.value=!1;case 6:return e.a(2)}},e,null,[[2,4]])}));return function(){return e.apply(this,arguments)}}(),qe=function(){E.value=!1},Te=function(){var e=(0,u.A)((0,n.A)().m(function e(){var l,a,t,u,o;return(0,n.A)().w(function(e){while(1)switch(e.p=e.n){case 0:return a="".concat(U.value[0],"-").concat(xe(U.value[1]),"-").concat(xe(U.value[2])),t=xe(S.value[0]),u=xe(S.value[1]),o="".concat(a," ").concat(t,":").concat(u),C.value.endTime=o,e.n=1,(0,i.dY)();case 1:if(null===(l=f.value)||void 0===l||!l.validate||!C.value.startTime){e.n=5;break}return e.p=2,e.n=3,f.value.validate("startTime");case 3:e.n=5;break;case 4:e.p=4,e.v;case 5:F.value=!1;case 6:return e.a(2)}},e,null,[[2,4]])}));return function(){return e.apply(this,arguments)}}(),Be=function(){F.value=!1};return a({resetForm:H,getFormData:M,validate:function(){var e,l;return null===(e=f.value)||void 0===e||null===(l=e.validate)||void 0===l?void 0:l.call(e)}}),function(l,a){var t=(0,i.g2)("van-form"),n=(0,i.g2)("van-picker"),u=(0,i.g2)("van-popup"),o=(0,i.g2)("van-date-picker"),r=(0,i.g2)("van-time-picker"),d=(0,i.g2)("van-picker-group");return(0,i.uX)(),(0,i.CE)("div",p,[e.showHeader?((0,i.uX)(),(0,i.CE)("div",v,a[30]||(a[30]=[(0,i.Lk)("span",{class:"section-title"},"活动基本信息",-1),(0,i.Lk)("span",{class:"section-reminder"},"所有在医院（无论是否健保通医院）举办的活动，活动分类需选择超体场景，活动场地选择健保通医院；对于医护群体开展的活动，活动内容请录入医院圈层相关",-1),(0,i.Lk)("div",{class:"header-divider"},null,-1)]))):(0,i.Q3)("",!0),(0,i.Lk)("div",m,[(0,i.bF)(t,{ref_key:"formRef",ref:f,"show-error":!0,"show-error-message":!0,"scroll-to-error":!0},{default:(0,i.k6)(function(){return[(0,i.Lk)("div",b,[(0,i.bF)(s.A,{name:"branchCode",rules:[{required:!0,message:"请选择分公司"}],label:"分公司",required:!0,type:"select",modelValue:C.value.branchCode,"onUpdate:modelValue":a[0]||(a[0]=function(e){return C.value.branchCode=e}),placeholder:e.editable?"请选择":C.value.branchCode,disabled:!e.editable,options:w.value,onSelectClick:G},null,8,["modelValue","placeholder","disabled","options"]),(0,i.bF)(s.A,{name:"subbranchCode",rules:[{required:!0,message:"请选择中支"}],label:"中支",required:!0,type:"select",modelValue:C.value.subbranchCode,"onUpdate:modelValue":a[1]||(a[1]=function(e){return C.value.subbranchCode=e}),placeholder:e.editable?"请选择":C.value.subbranchCode,disabled:!e.editable,options:x.value,onSelectClick:$},null,8,["modelValue","placeholder","disabled","options"]),(0,i.bF)(s.A,{label:"战略划分",required:!0,type:"select",modelValue:C.value.strategy,"onUpdate:modelValue":a[2]||(a[2]=function(e){return C.value.strategy=e}),placeholder:e.editable?"请选择":C.value.strategy,disabled:!e.editable,onSelectClick:me},null,8,["modelValue","placeholder","disabled"]),(0,i.bF)(s.A,{label:"活动名称",required:!0,type:"textarea",modelValue:C.value.name,"onUpdate:modelValue":a[3]||(a[3]=function(e){return C.value.name=e}),placeholder:"请输入活动名称","max-length":30,disabled:!e.editable,rows:2,name:"name"},null,8,["modelValue","disabled"]),(0,i.bF)(s.A,{label:"活动渠道",required:!0,type:"select",modelValue:C.value.channel,"onUpdate:modelValue":a[4]||(a[4]=function(e){return C.value.channel=e}),placeholder:e.editable?"请选择":C.value.channel,disabled:!e.editable,onSelectClick:be},null,8,["modelValue","placeholder","disabled"]),(0,i.bF)(s.A,{label:"活动开始时间",name:"startTime",required:!0,type:"select",modelValue:C.value.startTime,"onUpdate:modelValue":a[5]||(a[5]=function(e){return C.value.startTime=e}),placeholder:e.editable?"请选择":C.value.startTime,disabled:!e.editable,rules:[{required:!0,message:"请选择开始时间"},{validator:Ne}],onSelectClick:he},null,8,["modelValue","placeholder","disabled","rules"]),(0,i.bF)(s.A,{label:"活动结束时间",name:"endTime",required:!0,type:"select",modelValue:C.value.endTime,"onUpdate:modelValue":a[6]||(a[6]=function(e){return C.value.endTime=e}),placeholder:e.editable?"请选择":C.value.endTime,disabled:!e.editable,rules:[{required:!0,message:"请选择结束时间"},{validator:Ue}],onSelectClick:fe},null,8,["modelValue","placeholder","disabled","rules"]),(0,i.bF)(s.A,{label:"活动类别",required:!0,type:"select",modelValue:C.value.category,"onUpdate:modelValue":a[7]||(a[7]=function(e){return C.value.category=e}),placeholder:e.editable?"请选择":C.value.category,disabled:!e.editable,options:O.value,onSelectClick:z},null,8,["modelValue","placeholder","disabled","options"]),(0,i.bF)(s.A,{label:"是否健保通相关",required:!0,type:"select",modelValue:C.value.healthRelate,"onUpdate:modelValue":a[8]||(a[8]=function(e){return C.value.healthRelate=e}),placeholder:e.editable?"请选择":C.value.healthRelate,disabled:!e.editable,options:L.value,onSelectClick:Ae},null,8,["modelValue","placeholder","disabled","options"]),(0,i.bF)(s.A,{label:"活动场地",required:!0,type:"select",modelValue:C.value.venue,"onUpdate:modelValue":a[9]||(a[9]=function(e){return C.value.venue=e}),placeholder:e.editable?"请选择":C.value.venue,disabled:!e.editable,options:I.value,onSelectClick:oe},null,8,["modelValue","placeholder","disabled","options"]),(0,i.bF)(s.A,{label:"活动省市",required:!0,type:X.value,modelValue:C.value.location,"onUpdate:modelValue":a[10]||(a[10]=function(e){return C.value.location=e}),placeholder:Y.value,disabled:P.value,onSelectClick:ge},null,8,["type","modelValue","placeholder","disabled"]),e.showExtendedFields?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[(0,i.bF)(s.A,{label:"详细地址",required:!0,type:"textarea",modelValue:C.value.detailAddress,"onUpdate:modelValue":a[11]||(a[11]=function(e){return C.value.detailAddress=e}),placeholder:"请输入","max-length":300,rows:3,name:"detailAddress"},null,8,["modelValue"]),(0,i.bF)(s.A,{label:"活动内容",required:!0,type:"select",modelValue:C.value.content,"onUpdate:modelValue":a[12]||(a[12]=function(e){return C.value.content=e}),placeholder:"健康讲座",onSelectClick:Ce},null,8,["modelValue"]),(0,i.bF)(s.A,{label:"活动方式",required:!0,type:"select",modelValue:C.value.method,"onUpdate:modelValue":a[13]||(a[13]=function(e){return C.value.method=e}),placeholder:"请选择",onSelectClick:ye},null,8,["modelValue"]),(0,i.bF)(s.A,{label:"是否生成签到二维码",required:!0,type:"select",modelValue:C.value.generateQRCode,"onUpdate:modelValue":a[14]||(a[14]=function(e){return C.value.generateQRCode=e}),placeholder:"请选择",onSelectClick:we},null,8,["modelValue"]),(0,i.bF)(s.A,{label:"活动说明",type:"textarea",modelValue:C.value.description,"onUpdate:modelValue":a[15]||(a[15]=function(e){return C.value.description=e}),placeholder:"请输入","max-length":30,rows:2},null,8,["modelValue"]),(0,i.bF)(s.A,{label:"直播链接",type:"input",modelValue:C.value.liveLink,"onUpdate:modelValue":a[16]||(a[16]=function(e){return C.value.liveLink=e}),placeholder:"请输入","show-divider":!1},null,8,["modelValue"]),(0,i.bF)(s.A,{label:"是否对外发布",required:!0,type:"select",modelValue:C.value.publicRelease,"onUpdate:modelValue":a[17]||(a[17]=function(e){return C.value.publicRelease=e}),placeholder:"请选择",onSelectClick:Ve},null,8,["modelValue"]),(0,i.bF)(s.A,{label:"活是否包含中医特色服务",required:!0,"label-width":"200px",type:"select",modelValue:C.value.traditionalMedicine,"onUpdate:modelValue":a[18]||(a[18]=function(e){return C.value.traditionalMedicine=e}),placeholder:"请选择",onSelectClick:ke,"show-divider":!1},null,8,["modelValue"])],64)):(0,i.Q3)("",!0)])]}),_:1},512)]),(0,i.bF)(u,{show:y.value,"onUpdate:show":a[19]||(a[19]=function(e){return y.value=e}),position:"bottom",round:""},{default:(0,i.k6)(function(){return[(0,i.bF)(n,{columns:w.value,onConfirm:J,onCancel:Z,"default-index":0},null,8,["columns"])]}),_:1},8,["show"]),(0,i.bF)(u,{show:k.value,"onUpdate:show":a[20]||(a[20]=function(e){return k.value=e}),position:"bottom",round:""},{default:(0,i.k6)(function(){return[(0,i.bF)(n,{columns:x.value,onConfirm:ee,onCancel:le,"default-index":0},null,8,["columns"])]}),_:1},8,["show"]),(0,i.bF)(u,{show:q.value,"onUpdate:show":a[21]||(a[21]=function(e){return q.value=e}),position:"bottom",round:""},{default:(0,i.k6)(function(){return[(0,i.bF)(n,{columns:O.value,onConfirm:ae,onCancel:te,"default-index":0},null,8,["columns"])]}),_:1},8,["show"]),(0,i.bF)(u,{show:T.value,"onUpdate:show":a[22]||(a[22]=function(e){return T.value=e}),position:"bottom",round:""},{default:(0,i.k6)(function(){return[(0,i.bF)(n,{columns:L.value,onConfirm:ne,onCancel:ue,"default-index":0},null,8,["columns"])]}),_:1},8,["show"]),(0,i.bF)(u,{show:B.value,"onUpdate:show":a[23]||(a[23]=function(e){return B.value=e}),position:"bottom",round:""},{default:(0,i.k6)(function(){return[(0,i.bF)(n,{columns:I.value,onConfirm:de,onCancel:ce,"default-index":0},null,8,["columns"])]}),_:1},8,["show"]),(0,i.bF)(u,{show:E.value,"onUpdate:show":a[26]||(a[26]=function(e){return E.value=e}),position:"bottom",round:""},{default:(0,i.k6)(function(){return[(0,i.bF)(d,{title:"选择开始时间",tabs:["选择日期","选择时间"],onConfirm:Se,onCancel:qe},{default:(0,i.k6)(function(){return[(0,i.bF)(o,{modelValue:R.value,"onUpdate:modelValue":a[24]||(a[24]=function(e){return R.value=e}),"columns-type":["year","month","day"]},null,8,["modelValue"]),(0,i.bF)(r,{modelValue:N.value,"onUpdate:modelValue":a[25]||(a[25]=function(e){return N.value=e}),"columns-type":["hour","minute"]},null,8,["modelValue"])]}),_:1})]}),_:1},8,["show"]),(0,i.bF)(u,{show:F.value,"onUpdate:show":a[29]||(a[29]=function(e){return F.value=e}),position:"bottom",round:""},{default:(0,i.k6)(function(){return[(0,i.bF)(d,{title:"选择结束时间",tabs:["选择日期","选择时间"],onConfirm:Te,onCancel:Be},{default:(0,i.k6)(function(){return[(0,i.bF)(o,{modelValue:U.value,"onUpdate:modelValue":a[27]||(a[27]=function(e){return U.value=e}),"columns-type":["year","month","day"]},null,8,["modelValue"]),(0,i.bF)(r,{modelValue:S.value,"onUpdate:modelValue":a[28]||(a[28]=function(e){return S.value=e}),"columns-type":["hour","minute"]},null,8,["modelValue"])]}),_:1})]}),_:1},8,["show"])])}}};var f=a(1241);const A=(0,f.A)(h,[["__scopeId","data-v-431f3b5d"]]),g=A},533:(e,l,a)=>{var t=a(9504),n=a(8014),u=a(655),o=a(2333),r=a(7750),i=t(o),d=t("".slice),c=Math.ceil,s=function(e){return function(l,a,t){var o,s,p=u(r(l)),v=n(a),m=p.length,b=void 0===t?" ":u(t);return v<=m||""===b?p:(o=v-m,s=i(b,c(o/b.length)),s.length>o&&(s=d(s,0,o)),e?p+s:s+p)}};e.exports={start:s(!1),end:s(!0)}},1002:(e,l,a)=>{a.d(l,{A:()=>h});var t=a(6768),n=a(4232);const u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAsCAYAAAAXb/p7AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKKADAAQAAAABAAAALAAAAACPZsBsAAAA10lEQVRYCe2WPQrCQBQGgxaeQBQJEhsREURyba28gYiIiIUo/tzD3tnitam+4hVfYEhIYFhm2c1WlS8XcAEXcAEXcAEX6CjQ7/im+jRDNICfSqj0NMhusFVKVa4poivcYa6Sqjw1ogs8YKGSqjwTRGd4wlIlVXnGiE7wgpVKqvKMEB3hDWuVVOUZIjrABzYqqdKzR/aFViktrp5amNWXfopLuNSLJGY29TYTg0y9UccgU//qYpCpDwsxyIaHctzaxYuM93JgLSvclwu4gAu4gAu4gAvoC/wBGsYc4hgbfPUAAAAASUVORK5CYII=";var o={class:"navigation-bar"},r={class:"nav-center"},i={class:"nav-title"},d={class:"nav-right"},c=["src"],s={class:"action-text"};function p(e,l,a,p,v,m){return(0,t.uX)(),(0,t.CE)("div",o,[a.showBack?((0,t.uX)(),(0,t.CE)("div",{key:0,class:"nav-left",onClick:l[0]||(l[0]=function(){return m.handleBack&&m.handleBack.apply(m,arguments)})},l[2]||(l[2]=[(0,t.Lk)("img",{src:u,alt:"返回",class:"back-icon"},null,-1)]))):(0,t.Q3)("",!0),(0,t.Lk)("div",r,[(0,t.Lk)("span",i,(0,n.v_)(a.title),1)]),(0,t.Lk)("div",d,[(0,t.RG)(e.$slots,"right",{},function(){return[a.rightText?((0,t.uX)(),(0,t.CE)("div",{key:0,class:"nav-action",onClick:l[1]||(l[1]=function(){return m.handleRightClick&&m.handleRightClick.apply(m,arguments)})},[a.rightIcon?((0,t.uX)(),(0,t.CE)("img",{key:0,src:a.rightIcon,alt:"",class:"action-icon"},null,8,c)):(0,t.Q3)("",!0),(0,t.Lk)("span",s,(0,n.v_)(a.rightText),1)])):(0,t.Q3)("",!0)]},!0)])])}const v={name:"NavigationBar",props:{title:{type:String,default:""},showBack:{type:Boolean,default:!0},rightText:{type:String,default:""},rightIcon:{type:String,default:""}},methods:{handleBack:function(){this.$emit("back"),this.$router&&this.$router.back()},handleRightClick:function(){this.$emit("right-click")}}};var m=a(1241);const b=(0,m.A)(v,[["render",p],["__scopeId","data-v-6fd4d726"]]),h=b},1278:(e,l,a)=>{var t=a(6518),n=a(3724),u=a(5031),o=a(5397),r=a(7347),i=a(2278);t({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(e){var l,a,t=o(e),n=r.f,d=u(t),c={},s=0;while(d.length>s)a=n(t,l=d[s++]),void 0!==a&&i(c,l,a);return c}})},3063:(e,l,a)=>{var t=a(2839);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(t)},3141:(e,l,a)=>{a.d(l,{A:()=>c});a(113),a(4423),a(2010),a(8111),a(116),a(2892),a(6099);var t=a(6768),n=a(4232),u={key:1,class:"textarea-field"},o={key:4,class:"field-divider"};const r={__name:"FormField",props:{label:{type:String,required:!0},modelValue:{type:[String,Number],default:""},type:{type:String,default:"input",validator:function(e){return["input","textarea","select","text"].includes(e)}},placeholder:{type:String,default:"请输入"},labelWidth:{type:String,default:"150px"},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},maxLength:{type:Number,default:null},showCounter:{type:Boolean,default:!0},showDivider:{type:Boolean,default:!0},rows:{type:Number,default:3},options:{type:Array,default:function(){return[]}},name:{type:String,default:""},rules:{type:Array,default:null}},emits:["update:modelValue","select-click","input","blur"],setup:function(e,l){var a=l.emit,r=e,i=a,d=(0,t.EW)({get:function(){return r.modelValue},set:function(e){i("update:modelValue",e)}}),c=(0,t.EW)(function(){if("select"!==r.type)return r.modelValue||r.placeholder;if(!r.modelValue)return"";var e=r.options.find(function(e){return e.value===r.modelValue});return e?e.text:String(r.modelValue)}),s=(0,t.EW)(function(){return{"custom-field":!0,"field-disabled":r.disabled}}),p=(0,t.EW)(function(){if(r.rules&&r.rules.length)return r.rules;if(!r.required)return[];if("select"===r.type){var e="请选择".concat(r.label);return[{validator:function(){return!!r.modelValue},message:e}]}var l="请输入".concat(r.label);return[{required:!0,message:l}]}),v=function(){"select"!==r.type||r.disabled||i("select-click")},m=function(e){i("input",e)},b=function(e){i("blur",e)};return function(l,a){var r=(0,t.g2)("van-field");return(0,t.uX)(),(0,t.CE)("div",{class:(0,n.C4)(["form-field",{"has-required":e.required}])},["input"===e.type?((0,t.uX)(),(0,t.Wv)(r,{key:0,modelValue:d.value,"onUpdate:modelValue":a[0]||(a[0]=function(e){return d.value=e}),required:e.required,label:e.label,placeholder:e.placeholder,maxlength:e.maxLength,disabled:e.disabled,"show-word-limit":e.showCounter&&e.maxLength,"label-width":e.labelWidth,"input-align":"right",onInput:m,onBlur:b,name:e.name,rules:p.value,class:(0,n.C4)(s.value)},null,8,["modelValue","required","label","placeholder","maxlength","disabled","show-word-limit","label-width","name","rules","class"])):"textarea"===e.type?((0,t.uX)(),(0,t.CE)("div",u,[(0,t.Lk)("div",{class:(0,n.C4)(["textarea-label",{required:e.required}])},(0,n.v_)(e.label),3),(0,t.bF)(r,{modelValue:d.value,"onUpdate:modelValue":a[1]||(a[1]=function(e){return d.value=e}),type:"textarea",placeholder:e.placeholder,maxlength:e.maxLength,disabled:e.disabled,rows:e.rows,"show-word-limit":e.showCounter&&e.maxLength,"label-width":e.labelWidth,onInput:m,onBlur:b,name:e.name,rules:p.value,class:(0,n.C4)(["textarea-control",s.value])},null,8,["modelValue","placeholder","maxlength","disabled","rows","show-word-limit","label-width","name","rules","class"])])):"select"===e.type?((0,t.uX)(),(0,t.Wv)(r,{key:2,"model-value":c.value,required:e.required,label:e.label,placeholder:e.placeholder,readonly:"","is-link":"","input-align":"right","label-width":e.labelWidth,onClick:v,name:e.name,rules:p.value,class:(0,n.C4)([s.value,{"field-placeholder":!e.modelValue},"select-field"])},null,8,["model-value","required","label","placeholder","label-width","name","rules","class"])):"text"===e.type?((0,t.uX)(),(0,t.Wv)(r,{key:3,"model-value":e.modelValue||e.placeholder,required:e.required,label:e.label,readonly:"","input-align":"right","label-width":e.labelWidth,name:e.name,rules:p.value,class:(0,n.C4)([s.value,{"field-placeholder":!e.modelValue}])},null,8,["model-value","required","label","label-width","name","rules","class"])):(0,t.Q3)("",!0),e.showDivider?((0,t.uX)(),(0,t.CE)("div",o)):(0,t.Q3)("",!0)],2)}}};var i=a(1241);const d=(0,i.A)(r,[["__scopeId","data-v-4eb91028"]]),c=d},5048:(e,l,a)=>{a.d(l,{A:()=>h});a(2010);var t=a(6768),n={class:"expert-form"},u={class:"photo-section"},o=["src"],r={key:1,class:"upload-placeholder"},i={class:"info-section"},d={key:0,class:"remove-section"};function c(e,l,a,c,s,p){var v=(0,t.g2)("FormField");return(0,t.uX)(),(0,t.CE)("div",n,[(0,t.Lk)("div",u,[l[8]||(l[8]=(0,t.Lk)("div",{class:"photo-label"},"照片",-1)),(0,t.Lk)("div",{class:"photo-upload",onClick:l[0]||(l[0]=function(){return p.handlePhotoUpload&&p.handlePhotoUpload.apply(p,arguments)})},[a.expert.photo?((0,t.uX)(),(0,t.CE)("img",{key:0,src:a.expert.photo,alt:"专家照片",class:"expert-photo"},null,8,o)):((0,t.uX)(),(0,t.CE)("div",r,l[7]||(l[7]=[(0,t.Lk)("span",{class:"iconfont upload-icon"},"+",-1)])))])]),(0,t.Lk)("div",i,[(0,t.bF)(v,{label:"姓名",required:!0,type:"input",modelValue:s.localExpert.name,"onUpdate:modelValue":l[1]||(l[1]=function(e){return s.localExpert.name=e}),placeholder:"请输入",onInput:p.handleUpdate},null,8,["modelValue","onInput"]),(0,t.bF)(v,{label:"职称",required:!0,type:"select",modelValue:s.localExpert.title,"onUpdate:modelValue":l[2]||(l[2]=function(e){return s.localExpert.title=e}),placeholder:"请选择",onSelectClick:p.showTitlePicker},null,8,["modelValue","onSelectClick"]),(0,t.bF)(v,{label:"医院",required:!0,type:"input",modelValue:s.localExpert.hospital,"onUpdate:modelValue":l[3]||(l[3]=function(e){return s.localExpert.hospital=e}),placeholder:"请输入",onInput:p.handleUpdate},null,8,["modelValue","onInput"]),(0,t.bF)(v,{label:"科室",type:"input",modelValue:s.localExpert.department,"onUpdate:modelValue":l[4]||(l[4]=function(e){return s.localExpert.department=e}),placeholder:"请输入",onInput:p.handleUpdate},null,8,["modelValue","onInput"]),(0,t.bF)(v,{label:"介绍",type:"textarea",modelValue:s.localExpert.introduction,"onUpdate:modelValue":l[5]||(l[5]=function(e){return s.localExpert.introduction=e}),placeholder:"请输入","max-length":400,rows:4,"show-divider":!1,onInput:p.handleUpdate},null,8,["modelValue","onInput"])]),a.showRemove?((0,t.uX)(),(0,t.CE)("div",d,[(0,t.Lk)("button",{class:"remove-btn",onClick:l[6]||(l[6]=function(){return p.handleRemove&&p.handleRemove.apply(p,arguments)})}," 删除讲师 ")])):(0,t.Q3)("",!0)])}var s=a(8653),p=(a(2892),a(3141));const v={name:"ExpertForm",components:{FormField:p.A},props:{expert:{type:Object,required:!0},index:{type:Number,required:!0},showRemove:{type:Boolean,default:!1}},data:function(){return{localExpert:(0,s.A)({},this.expert)}},watch:{expert:{handler:function(e){this.localExpert=(0,s.A)({},e)},deep:!0}},methods:{handlePhotoUpload:function(){console.log("Upload photo for expert:",this.index)},showTitlePicker:function(){console.log("Show title picker")},handleUpdate:function(){this.$emit("update",this.index,this.localExpert)},handleRemove:function(){this.$emit("remove",this.index)}}};var m=a(1241);const b=(0,m.A)(v,[["render",c],["__scopeId","data-v-6e8e7d07"]]),h=b},8156:(e,l,a)=>{var t=a(6518),n=a(533).start,u=a(3063);t({target:"String",proto:!0,forced:u},{padStart:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},8653:(e,l,a)=>{a.d(l,{A:()=>u});a(2675),a(2008),a(1629),a(4114),a(8111),a(2489),a(7588),a(7945),a(4185),a(3851),a(1278),a(9432),a(6099),a(3500);var t=a(1391);function n(e,l){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);l&&(t=t.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),a.push.apply(a,t)}return a}function u(e){for(var l=1;l<arguments.length;l++){var a=null!=arguments[l]?arguments[l]:{};l%2?n(Object(a),!0).forEach(function(l){(0,t.A)(e,l,a[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(a,l))})}return e}}}]);
//# sourceMappingURL=274.50ae6fdb.js.map
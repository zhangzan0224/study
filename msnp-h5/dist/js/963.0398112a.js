"use strict";(self["webpackChunkmsnp_h5"]=self["webpackChunkmsnp_h5"]||[]).push([[963],{380:(t,i,a)=>{var n=a(9504),e=a(9039),s=a(533).start,o=RangeError,c=isFinite,l=Math.abs,r=Date.prototype,u=r.toISOString,d=n(r.getTime),A=n(r.getUTCDate),m=n(r.getUTCFullYear),h=n(r.getUTCHours),v=n(r.getUTCMilliseconds),f=n(r.getUTCMinutes),k=n(r.getUTCMonth),g=n(r.getUTCSeconds);t.exports=e(function(){return"0385-07-25T07:06:39.999Z"!==u.call(new Date(-50000000000001))})||!e(function(){u.call(new Date(NaN))})?function(){if(!c(d(this)))throw new o("Invalid time value");var t=this,i=m(t),a=v(t),n=i<0?"-":i>9999?"+":"";return n+s(l(i),n?6:4,0)+"-"+s(k(t)+1,2,0)+"-"+s(A(t),2,0)+"T"+s(h(t),2,0)+":"+s(f(t),2,0)+":"+s(g(t),2,0)+"."+s(a,3,0)+"Z"}:u},533:(t,i,a)=>{var n=a(9504),e=a(8014),s=a(655),o=a(2333),c=a(7750),l=n(o),r=n("".slice),u=Math.ceil,d=function(t){return function(i,a,n){var o,d,A=s(c(i)),m=e(a),h=A.length,v=void 0===n?" ":s(n);return m<=h||""===v?A:(o=m-h,d=l(v,u(o/v.length)),d.length>o&&(d=r(d,0,o)),t?A+d:d+A)}};t.exports={start:d(!1),end:d(!0)}},1002:(t,i,a)=>{a.d(i,{A:()=>f});var n=a(6768),e=a(4232);const s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAsCAYAAAAXb/p7AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKKADAAQAAAABAAAALAAAAACPZsBsAAAA10lEQVRYCe2WPQrCQBQGgxaeQBQJEhsREURyba28gYiIiIUo/tzD3tnitam+4hVfYEhIYFhm2c1WlS8XcAEXcAEXcAEX6CjQ7/im+jRDNICfSqj0NMhusFVKVa4poivcYa6Sqjw1ogs8YKGSqjwTRGd4wlIlVXnGiE7wgpVKqvKMEB3hDWuVVOUZIjrABzYqqdKzR/aFViktrp5amNWXfopLuNSLJGY29TYTg0y9UccgU//qYpCpDwsxyIaHctzaxYuM93JgLSvclwu4gAu4gAu4gAvoC/wBGsYc4hgbfPUAAAAASUVORK5CYII=";var o={class:"navigation-bar"},c={class:"nav-center"},l={class:"nav-title"},r={class:"nav-right"},u=["src"],d={class:"action-text"};function A(t,i,a,A,m,h){return(0,n.uX)(),(0,n.CE)("div",o,[a.showBack?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"nav-left",onClick:i[0]||(i[0]=function(){return h.handleBack&&h.handleBack.apply(h,arguments)})},i[2]||(i[2]=[(0,n.Lk)("img",{src:s,alt:"返回",class:"back-icon"},null,-1)]))):(0,n.Q3)("",!0),(0,n.Lk)("div",c,[(0,n.Lk)("span",l,(0,e.v_)(a.title),1)]),(0,n.Lk)("div",r,[(0,n.RG)(t.$slots,"right",{},function(){return[a.rightText?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"nav-action",onClick:i[1]||(i[1]=function(){return h.handleRightClick&&h.handleRightClick.apply(h,arguments)})},[a.rightIcon?((0,n.uX)(),(0,n.CE)("img",{key:0,src:a.rightIcon,alt:"",class:"action-icon"},null,8,u)):(0,n.Q3)("",!0),(0,n.Lk)("span",d,(0,e.v_)(a.rightText),1)])):(0,n.Q3)("",!0)]},!0)])])}const m={name:"NavigationBar",props:{title:{type:String,default:""},showBack:{type:Boolean,default:!0},rightText:{type:String,default:""},rightIcon:{type:String,default:""}},methods:{handleBack:function(){this.$emit("back"),this.$router&&this.$router.back()},handleRightClick:function(){this.$emit("right-click")}}};var h=a(1241);const v=(0,h.A)(m,[["render",A],["__scopeId","data-v-6fd4d726"]]),f=v},1688:(t,i,a)=>{var n=a(6518),e=a(380);n({target:"Date",proto:!0,forced:Date.prototype.toISOString!==e},{toISOString:e})},5963:(t,i,a)=>{a.r(i),a.d(i,{default:()=>U});var n=a(6768),e=a(4232),s=a(5130),o={class:"audit-activity-page"},c={class:"audit-form"},l={class:"form-section"},r={class:"field-group"},u={class:"conclusion-options"},d={class:"field-group"},A={class:"comment-section"},m={class:"char-counter"},h=["disabled"],v={key:0,class:"history-section"},f={class:"history-list"},k={class:"history-meta"},g={class:"history-round"},p={class:"history-time"},y={class:"history-content"},C={class:"history-field"},L={class:"field-value"},b={class:"history-field"},S={key:0,class:"history-field"},D={class:"field-value"};function I(t,i,a,I,B,E){var T=(0,n.g2)("NavigationBar");return(0,n.uX)(),(0,n.CE)("div",o,[(0,n.bF)(T,{title:"审核活动",onBack:E.handleBack},null,8,["onBack"]),(0,n.Lk)("div",c,[(0,n.Lk)("div",l,[(0,n.Lk)("div",r,[i[4]||(i[4]=(0,n.Lk)("div",{class:"field-label"},[(0,n.Lk)("span",{class:"required-mark"},"*"),(0,n.Lk)("span",{class:"label-text"},"审核结论")],-1)),(0,n.Lk)("div",u,[(0,n.Lk)("button",{class:(0,e.C4)(["conclusion-btn",{active:"rejected"===B.formData.conclusion,rejected:"rejected"===B.formData.conclusion}]),onClick:i[0]||(i[0]=function(t){return E.selectConclusion("rejected")})}," 不通过 ",2),(0,n.Lk)("button",{class:(0,e.C4)(["conclusion-btn",{active:"approved"===B.formData.conclusion,approved:"approved"===B.formData.conclusion}]),onClick:i[1]||(i[1]=function(t){return E.selectConclusion("approved")})}," 通过 ",2)])]),(0,n.Lk)("div",d,[i[5]||(i[5]=(0,n.Lk)("div",{class:"field-label"},[(0,n.Lk)("span",{class:"required-mark"},"*"),(0,n.Lk)("span",{class:"label-text"},"审核意见")],-1)),(0,n.Lk)("div",A,[(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":i[2]||(i[2]=function(t){return B.formData.comment=t}),placeholder:"请输入",class:"comment-textarea",maxlength:300},null,512),[[s.Jo,B.formData.comment]]),(0,n.Lk)("div",m,(0,e.v_)(B.formData.comment.length)+"/300 ",1)])]),(0,n.Lk)("button",{class:"submit-btn",disabled:!E.canSubmit,onClick:i[3]||(i[3]=function(){return E.handleSubmit&&E.handleSubmit.apply(E,arguments)})}," 提交 ",8,h)])]),B.auditHistory.length>0?((0,n.uX)(),(0,n.CE)("div",v,[i[9]||(i[9]=(0,n.Lk)("div",{class:"history-header"},[(0,n.Lk)("span",{class:"history-title"},"历史审核记录")],-1)),(0,n.Lk)("div",f,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(B.auditHistory,function(t,a){return(0,n.uX)(),(0,n.CE)("div",{key:a,class:"history-item"},[(0,n.Lk)("div",k,[(0,n.Lk)("span",g,"第"+(0,e.v_)(t.round)+"轮审核",1),(0,n.Lk)("span",p,(0,e.v_)(E.formatTime(t.time)),1)]),(0,n.Lk)("div",y,[(0,n.Lk)("div",C,[i[6]||(i[6]=(0,n.Lk)("span",{class:"field-name"},"审核人：",-1)),(0,n.Lk)("span",L,(0,e.v_)(t.auditor),1)]),(0,n.Lk)("div",b,[i[7]||(i[7]=(0,n.Lk)("span",{class:"field-name"},"审核结论：",-1)),(0,n.Lk)("span",{class:(0,e.C4)(["field-value",t.conclusion])},(0,e.v_)(t.conclusionText),3)]),t.comment?((0,n.uX)(),(0,n.CE)("div",S,[i[8]||(i[8]=(0,n.Lk)("span",{class:"field-name"},"审核意见：",-1)),(0,n.Lk)("span",D,(0,e.v_)(t.comment),1)])):(0,n.Q3)("",!0)])])}),128))])])):(0,n.Q3)("",!0)])}a(1688),a(3288),a(2762);var B=a(1002);const E={name:"AuditActivity",components:{NavigationBar:B.A},data:function(){return{activityId:null,formData:{conclusion:"",comment:""},auditHistory:[{round:1,time:"2025-01-01 10:30:00",auditor:"张三",conclusion:"rejected",conclusionText:"不通过",comment:"活动时间安排不合理，需要重新调整活动时间，建议避开节假日。"}]}},computed:{canSubmit:function(){return this.formData.conclusion&&this.formData.comment.trim()}},methods:{handleBack:function(){this.$router.back()},selectConclusion:function(t){this.formData.conclusion=t},handleSubmit:function(){if(this.canSubmit){var t={activityId:this.activityId,conclusion:this.formData.conclusion,comment:this.formData.comment,timestamp:(new Date).toISOString()};console.log("Submit audit:",t),this.$router.back()}},formatTime:function(t){if(!t)return"";var i=new Date(t);return i.toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},loadAuditHistory:function(){console.log("Loading audit history for activity:",this.activityId)}},mounted:function(){this.activityId=this.$route.params.id||this.$route.query.id,this.loadAuditHistory()}};var T=a(1241);const w=(0,T.A)(E,[["render",I],["__scopeId","data-v-5fd42bb9"]]),U=w}}]);
//# sourceMappingURL=963.0398112a.js.map